{"version":3,"sources":["logic/formulas.ts","logic/Operation.ts","logic/Calculator.ts","CalcUi/actions.ts","CalcUi/CalcKey.tsx","CalcUi/reducer.ts","CalcUi/index.tsx","Main/index.tsx","index.tsx"],"names":["FormulaType","TransformationType","ActionType","Operation","config","input","a","b","base","this","get","SUM","set","SUBTRACT","subtract","MULTIPLY","multiply","DIVIDE","divide","NOOP","Error","Record","undefined","type","result","CalcActionType","Calculator","safeInput","currentOperation","lastOperation","last","Number","join","toString","getLastResult","op","update","ops","push","outputSafe","finalBase","finalInput","reOperation","perform","pushOperation","clearInput","outputLastResult","delete","lastActionType","OPERATION","TRANSFORMATION","completeOperation","userInput","length","test","includes","replace","chars","concat","split","parseInput","INPUT","outputRaw","transform","getLastValue","lastValue","PLUSMINUS","PERCENT","percent","closeAndOpenOp","applyCurrentOp","reApplyPrevOp","operations","List","rawInput","output","KeyType","addOperation","createAction","ADD_OPERATION","addInput","UPDATE_INPUT","clearAll","CLEAR_ALL","calculate","CALCULATE","applyTransform","APPLY_TRANSFORM","reducer","createReducer","handleType","state","action","payload","updateInput","clear","calculateResult","CalcKey","text","onClick","className","classNames","key","TRANSFORM","CalcUI","useReducer","calc","dispatch","Main","id","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1ed9c81e.chunk.js","sourcesContent":["export type Formula = (a: number, b: number) => number;\nexport type Transform = (a: number) => number;\n\nexport const sum: Formula = (a: number, b: number) => {\n  return a + b;\n};\n\nexport const subtract: Formula = (a: number, b: number) => {\n  return a - b;\n};\n\nexport const divide: Formula = (a: number, b: number) => {\n  return a / b;\n};\n\nexport const multiply: Formula = (a: number, b: number) => {\n  return a * b;\n};\n\nexport const percent: Formula = (a: number, b: number) => {\n  return (a * b) / 100;\n};\n\nexport const plusMinus: Transform = (a: number) => {\n  return a * -1;\n};\n\nexport enum FormulaType {\n  NOOP = 'CALCULATOR/FORMULA/NOOP',\n  SUM = 'CALCULATOR/FORMULA/SUM',\n  SUBTRACT = 'CALCULATOR/FORMULA/SUBTRACT',\n  MULTIPLY = 'CALCULATOR/FORMULA/MULTIPLY',\n  DIVIDE = 'CALCULATOR/FORMULA/DIVIDE',\n  // PERCENT = 'CALCULATOR/FORMULA/PERCENT',\n}\n\nexport enum TransformationType {\n  PLUSMINUS = 'CALCULATOR/FORMULA/PLUSMINUS',\n  PERCENT = 'CALCULATOR/FORMULA/PERCENT',\n}\n","import { Record } from 'immutable';\nimport { FormulaType, sum, subtract, multiply, divide } from './formulas';\n\ninterface IOperation {\n  input?: number;\n  base: number;\n  type: FormulaType;\n  result?: number;\n}\n\nconst DefaultOperation = Record<IOperation>({\n  input: undefined,\n  base: 0,\n  type: FormulaType.NOOP,\n  result: undefined,\n});\n\nexport class Operation extends DefaultOperation {\n  public constructor(config?: Partial<IOperation>) {\n    super(config);\n  }\n\n  public perform(input: number): Operation {\n    const base = this.get('base');\n\n    switch (this.get('type')) {\n      case FormulaType.SUM:\n        return this.set('result', sum(base, input)).set('input', input);\n      case FormulaType.SUBTRACT:\n        return this.set('result', subtract(base, input)).set('input', input);\n      case FormulaType.MULTIPLY:\n        return this.set('result', multiply(base, input)).set('input', input);\n      case FormulaType.DIVIDE:\n        return this.set('result', divide(base, input)).set('input', input);\n      case FormulaType.NOOP:\n        return this.set('result', this.get('base')).set('input', input);\n      default:\n        throw new Error('Unknown operation');\n    }\n  }\n}\n","import { Record, List } from 'immutable';\nimport {\n  FormulaType,\n  percent,\n  plusMinus,\n  TransformationType,\n} from './formulas';\nimport { Operation } from './Operation';\n\nenum ActionType {\n  OPERATION,\n  TRANSFORMATION,\n  INPUT,\n}\n\ninterface ICalculator {\n  readonly lastActionType: ActionType | null;\n  readonly operations: List<Operation>;\n  readonly currentOperation: Operation | null;\n  readonly rawInput: List<string>;\n  readonly safeInput: number | null;\n  readonly output: string;\n}\n\nconst DefaultCalculator = Record<ICalculator>({\n  lastActionType: null,\n  operations: List<Operation>(),\n  currentOperation: null,\n  rawInput: List<string>(),\n  safeInput: null,\n  output: '0',\n});\n\nexport default class Calculator extends DefaultCalculator {\n  private getLastValue(): number {\n    const safeInput = this.get('safeInput');\n    const currentOperation = this.get('currentOperation');\n    const lastOperation = this.get('operations').last(null);\n\n    if (safeInput !== null) {\n      return safeInput;\n    } else if (currentOperation) {\n      return currentOperation.get('base');\n    } else if (lastOperation) {\n      return lastOperation.get<number>('result', 0);\n    }\n\n    return 0;\n  }\n\n  private getLastResult(): number {\n    return this.get('operations').last<Operation>().get<number>('result', 0);\n  }\n\n  private parseInput(): Calculator {\n    return this.set('safeInput', Number(this.get('rawInput').join('')));\n  }\n\n  private outputRaw(): Calculator {\n    return this.set('output', this.get('rawInput').join(''));\n  }\n\n  private outputSafe(): Calculator {\n    return this.set('output', this.get<number>('safeInput', 0).toString());\n  }\n\n  private outputLastResult(): Calculator {\n    return this.set('output', this.getLastResult().toString());\n  }\n\n  private pushOperation(op: Operation): Calculator {\n    return this.update('operations', (ops) => ops.push(op));\n  }\n\n  private reApplyPrevOp(): Calculator {\n    const lastOperation = this.get('operations').last<Operation>();\n\n    if (lastOperation === undefined) {\n      return this.outputSafe();\n    }\n\n    const safeInput = this.get('safeInput');\n\n    const finalBase: number =\n      safeInput === null\n        ? lastOperation.get<number>('result', 0)\n        : lastOperation.get<number>('input', 0);\n    const finalInput: number =\n      safeInput === null ? lastOperation.get<number>('input', 0) : safeInput;\n\n    const reOperation = lastOperation\n      .set('base', finalBase)\n      .perform(finalInput);\n\n    return this.pushOperation(reOperation).clearInput().outputLastResult();\n  }\n\n  private applyCurrentOp(): Calculator {\n    const currentOperation = this.get('currentOperation');\n    const safeInput = this.get<number>('safeInput', 0);\n\n    if (!currentOperation) {\n      throw new Error('There is no open Operation');\n    }\n\n    return this.pushOperation(currentOperation.perform(safeInput))\n      .delete('currentOperation')\n      .clearInput()\n      .outputLastResult();\n  }\n\n  private closeAndOpenOp(base: number, type: FormulaType): Calculator {\n    const lastActionType = this.get('lastActionType');\n    const currentOperation = this.get('currentOperation');\n\n    if (!currentOperation) {\n      throw new Error('There is no open Operation');\n    }\n\n    if (\n      lastActionType === ActionType.OPERATION ||\n      lastActionType === ActionType.TRANSFORMATION\n    ) {\n      return this.set('currentOperation', currentOperation.set('type', type));\n    }\n\n    const completeOperation = currentOperation.perform(base);\n\n    return this.pushOperation(completeOperation).set(\n      'currentOperation',\n      new Operation({ base: completeOperation.get('result'), type })\n    );\n  }\n\n  public updateInput(userInput: string): Calculator {\n    if (!userInput.length || !/[\\d.]/.test(userInput)) {\n      throw new Error(`Illegal input character: ${userInput}`);\n    }\n\n    if (/[.]/.test(userInput) && this.get('rawInput').includes('.')) {\n      userInput = userInput.replace('.', '');\n    }\n\n    return this.update('rawInput', (chars) => chars.concat(userInput.split('')))\n      .parseInput()\n      .set('lastActionType', ActionType.INPUT)\n      .outputRaw();\n  }\n\n  public applyTransform(transform: TransformationType): Calculator {\n    const currentOperation = this.get('currentOperation');\n    const input = this.getLastValue();\n\n    const lastValue = currentOperation ? currentOperation.get('base') : input;\n\n    switch (transform) {\n      case TransformationType.PLUSMINUS:\n        return this.set('safeInput', plusMinus(input))\n          .set('lastActionType', ActionType.TRANSFORMATION)\n          .outputSafe();\n      case TransformationType.PERCENT:\n        return this.set('safeInput', percent(lastValue, input)).set(\n          'lastActionType',\n          ActionType.TRANSFORMATION\n        );\n      default:\n        throw new Error('Unknown transformation');\n    }\n  }\n\n  public addOperation(type: FormulaType): Calculator {\n    const currentOperation = this.get('currentOperation');\n    const base = this.getLastValue();\n\n    return currentOperation\n      ? this.closeAndOpenOp(base, type)\n          .clearInput()\n          .set('lastActionType', ActionType.OPERATION)\n      : this.set('currentOperation', new Operation({ base, type }))\n          .clearInput()\n          .set('lastActionType', ActionType.OPERATION);\n  }\n\n  public calculateResult(): Calculator {\n    const currentOperation = this.get('currentOperation');\n\n    return currentOperation ? this.applyCurrentOp() : this.reApplyPrevOp();\n  }\n\n  public clearInput(): Calculator {\n    return this.delete('safeInput').delete('rawInput');\n  }\n}\n","import { createAction } from 'typesafe-actions';\nimport { FormulaType, TransformationType } from '../logic/formulas';\n\nexport enum CalcActionType {\n  ADD_OPERATION = 'CALCULATOR/ACTION/ADD_OPERATION',\n  APPLY_TRANSFORM = 'CALCULATOR/ACTION/APPLY_TRANSFORM',\n  UPDATE_INPUT = 'CALCULATOR/ACTION/UPDATE_INPUT',\n  CLEAR_ALL = 'CALCULATOR/ACTION/CLEAR_ALL',\n  CALCULATE = 'CALCULATOR/ACTION/CALCULATE',\n}\n\nexport const addOperation = createAction(CalcActionType.ADD_OPERATION)<\n  FormulaType\n>();\nexport const addInput = createAction(CalcActionType.UPDATE_INPUT)<string>();\nexport const clearAll = createAction(CalcActionType.CLEAR_ALL)();\nexport const calculate = createAction(CalcActionType.CALCULATE)();\nexport const applyTransform = createAction(CalcActionType.APPLY_TRANSFORM)<\n  TransformationType\n>();\n","import React from 'react';\nimport classNames from 'classnames';\n\nexport enum KeyType {\n  TRANSFORM = 'CALCULATOR/KEY/TRANSFORM',\n  OPERATION = 'CALCULATOR/KEY/OPERATION',\n  INPUT = 'CALCULATOR/KEY/INPUT',\n}\n\ntype CalcKeyProps = {\n  type: KeyType;\n  text: string;\n  className?: string;\n  onClick: () => void;\n};\n\nconst CalcKey: React.FC<CalcKeyProps> = ({\n  type,\n  text,\n  onClick,\n  className,\n}: CalcKeyProps) => {\n  return (\n    <button\n      className={classNames(className, {\n        key: true,\n        'key--transform': type === KeyType.TRANSFORM,\n        'key--operation': type === KeyType.OPERATION,\n        'key--input': type === KeyType.INPUT,\n      })}\n      onClick={onClick}\n    >\n      {text}\n    </button>\n  );\n};\n\nexport default CalcKey;\n","import { createReducer, ActionType } from 'typesafe-actions';\nimport Calculator from '../logic/Calculator';\n\nimport * as actions from './actions';\nimport { CalcActionType } from './actions';\n\nexport type CalcAction = ActionType<typeof actions>;\n\nexport const reducer = createReducer<Calculator, CalcAction>(new Calculator())\n  .handleType(CalcActionType.ADD_OPERATION, (state, action) =>\n    state.addOperation(action.payload)\n  )\n  .handleType(CalcActionType.UPDATE_INPUT, (state, action) =>\n    state.updateInput(action.payload)\n  )\n  .handleType(CalcActionType.CLEAR_ALL, (state) => state.clear())\n  .handleType(CalcActionType.APPLY_TRANSFORM, (state, action) =>\n    state.applyTransform(action.payload)\n  )\n  .handleType(CalcActionType.CALCULATE, (state) => state.calculateResult());\n","import React, { useReducer } from 'react';\n\nimport Calculator from '../logic/Calculator';\nimport { reducer } from './reducer';\nimport {\n  addOperation,\n  addInput,\n  clearAll,\n  calculate,\n  applyTransform,\n} from './actions';\nimport CalcKey, { KeyType } from './CalcKey';\nimport { FormulaType, TransformationType } from '../logic/formulas';\n\nimport './CalcUi.css';\n\nconst CalcUI: React.FC = () => {\n  const [calc, dispatch] = useReducer(reducer, new Calculator());\n\n  return (\n    <div className=\"calculator\">\n      <div className=\"screen\">{calc.get('output')}</div>\n      <div className=\"keyboard\">\n        <CalcKey\n          onClick={() => dispatch(clearAll())}\n          type={KeyType.TRANSFORM}\n          text=\"C\"\n        />\n        <CalcKey\n          onClick={() => dispatch(applyTransform(TransformationType.PLUSMINUS))}\n          type={KeyType.TRANSFORM}\n          text=\"+/-\"\n        />\n        <CalcKey\n          onClick={() => dispatch(applyTransform(TransformationType.PERCENT))}\n          type={KeyType.TRANSFORM}\n          text=\"%\"\n        />\n        <CalcKey\n          onClick={() => dispatch(addOperation(FormulaType.DIVIDE))}\n          type={KeyType.OPERATION}\n          text=\"/\"\n        />\n\n        <CalcKey\n          onClick={() => dispatch(addInput('7'))}\n          type={KeyType.INPUT}\n          text=\"7\"\n        />\n        <CalcKey\n          onClick={() => dispatch(addInput('8'))}\n          type={KeyType.INPUT}\n          text=\"8\"\n        />\n        <CalcKey\n          onClick={() => dispatch(addInput('9'))}\n          type={KeyType.INPUT}\n          text=\"9\"\n        />\n        <CalcKey\n          onClick={() => dispatch(addOperation(FormulaType.MULTIPLY))}\n          type={KeyType.OPERATION}\n          text=\"X\"\n        />\n\n        <CalcKey\n          onClick={() => dispatch(addInput('4'))}\n          type={KeyType.INPUT}\n          text=\"4\"\n        />\n        <CalcKey\n          onClick={() => dispatch(addInput('5'))}\n          type={KeyType.INPUT}\n          text=\"5\"\n        />\n        <CalcKey\n          onClick={() => dispatch(addInput('6'))}\n          type={KeyType.INPUT}\n          text=\"6\"\n        />\n        <CalcKey\n          onClick={() => dispatch(addOperation(FormulaType.SUBTRACT))}\n          type={KeyType.OPERATION}\n          text=\"-\"\n        />\n\n        <CalcKey\n          onClick={() => dispatch(addInput('1'))}\n          type={KeyType.INPUT}\n          text=\"1\"\n        />\n        <CalcKey\n          onClick={() => dispatch(addInput('2'))}\n          type={KeyType.INPUT}\n          text=\"2\"\n        />\n        <CalcKey\n          onClick={() => dispatch(addInput('3'))}\n          type={KeyType.INPUT}\n          text=\"3\"\n        />\n        <CalcKey\n          onClick={() => dispatch(addOperation(FormulaType.SUM))}\n          type={KeyType.OPERATION}\n          text=\"+\"\n        />\n\n        <CalcKey\n          className=\"key--zero\"\n          onClick={() => dispatch(addInput('0'))}\n          type={KeyType.INPUT}\n          text=\"0\"\n        />\n        <CalcKey\n          onClick={() => dispatch(addInput('.'))}\n          type={KeyType.INPUT}\n          text=\".\"\n        />\n        <CalcKey\n          onClick={() => dispatch(calculate())}\n          type={KeyType.OPERATION}\n          text=\"=\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default CalcUI;\n","import React from 'react';\nimport CalcUI from '../CalcUi';\n\nimport './main.css';\n\nconst Main: React.FC = () => {\n  return (\n    <div id=\"calc-container\">\n      <CalcUI />\n    </div>\n  );\n};\n\nexport default Main;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Main from './Main';\n\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Main />\n  </React.StrictMode>,\n\n  document.getElementById('root')\n);\n"],"sourceRoot":""}